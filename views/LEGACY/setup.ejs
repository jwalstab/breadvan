<link href="/css/select2.min.css" rel="stylesheet" />
<script src="/js/select2.min.js"></script>

<div class="form-panel">
    <form action="/setupnew/reasons" method="POST">
            <h3>Reasons</h3>
            <br> 
            <input type="text" id="newreason" style="width: 500px;" name="reason">
            <button type="submit" class="btn btn-success">Add Reason</button>
    </form>
    <br>
    <form action="/setupdelete/reasons" method="POST">
            <select class="js-example-basic-single" id="reason" name="reason" style="width:500px">
            </select>
            <button type="submit" class="btn btn-danger">Delete Reason</button>
    </form>
</div>
<div class="form-panel">
        <form action="/setupnew/findings" method="POST">
                <h3>Findings</h3>
                <br> 
                <input type="text" id="newfindings" style="width: 500px;" name="findings">
                <button type="submit" class="btn btn-success">Add Finding</button>
        </form>
        <br>
        <form action="/setupdelete/findings" method="POST">
                <select class="js-example-basic-single" id="findings" name="findings" style="width:500px">
                </select>
                <button type="submit" class="btn btn-danger">Delete Findings</button>
        </form>
    </div>

<script>
    $('#reason').select2({
        tags: true
    });
    fetch(APIURL + '/setupget/reasons')
    .then((resp) => resp.json())
    .then(function(data) {
        data.forEach(element =>{
            var newOption = new Option(element.reason, element.reason, false, false);
            document.getElementById('reason').appendChild(newOption);
        });
    });
    $('#findings').select2({
        tags: true
    });
    fetch(APIURL + '/setupget/findings')
    .then((resp) => resp.json())
    .then(function(data) {
        data.forEach(element =>{
            var newOption = new Option(element.findings, element.findings, false, false);
            document.getElementById('findings').appendChild(newOption);
        });
    });
</script>